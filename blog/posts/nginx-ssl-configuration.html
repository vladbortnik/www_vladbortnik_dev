<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">

    <title>Nginx Configuration for Production: SSL/TLS Setup | Vlad Bortnik</title>
    <meta name="description" content="Step-by-step guide to configuring Nginx with SSL/TLS certificates, including Let's Encrypt integration, security headers, and performance optimization.">
    <meta name="keywords" content="Nginx, SSL, TLS, HTTPS, Let's Encrypt, Web Server, Security Headers, Production Configuration">

    <!-- Canonical URL -->
    <link rel="canonical" href="https://vladbortnik.dev/blog/posts/nginx-ssl-configuration.html">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://vladbortnik.dev/blog/posts/nginx-ssl-configuration.html">
    <meta property="og:title" content="Nginx Configuration for Production: SSL/TLS Setup">
    <meta property="og:description" content="Learn how to configure Nginx with SSL/TLS certificates for production environments.">

    <!-- Preconnect for performance -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" sizes="16x16 32x32" href="../../assets/img/favicon.ico">

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Raleway:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i" rel="stylesheet">

    <!-- Vendor CSS Files -->
    <link href="../../assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="../../assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">

    <!-- Main CSS Files -->
    <link href="../../assets/css/style.css" rel="stylesheet">
    <link href="../assets/css/blog.css?v=6" rel="stylesheet">
    
    <!-- Prism.js for Syntax Highlighting -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-okaidia.min.css" rel="stylesheet">

    <!-- Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "BlogPosting",
        "headline": "Nginx Configuration for Production: SSL/TLS Setup",
        "description": "Step-by-step guide to configuring Nginx with SSL/TLS certificates for production.",
        "author": {
            "@type": "Person",
            "name": "Vlad Bortnik",
            "url": "https://vladbortnik.dev"
        },
        "datePublished": "2024-01-05"
    }
    </script>

    <!-- Umami Analytics -->
    <script defer src="https://analytics.vladbortnik.dev/script.js" data-website-id="b386b8f9-b644-4400-a091-208983cb8340"></script>
</head>

<body>
    <!-- Reading Progress Bar -->
    <div class="reading-progress"></div>
    <!-- ======= HEADER ======= -->
    <header id="header" class="header-top">
        <div class="container">
            <h1><a href="/">Vlad Bortnik</a></h1>

            <nav id="navbar" class="navbar">
                <ul>
                    <li><a class="nav-link" href="/">Home</a></li>
                    <li><a class="nav-link" href="/#about">About</a></li>
                    <li><a class="nav-link" href="/#portfolio">Projects</a></li>
                    <li><a class="nav-link" href="/#resume">Resume</a></li>
                    <li><a class="nav-link active" href="/blog/">Blog</a></li>
                    <li><a class="nav-link" href="/contact.html">Contact</a></li>
                </ul>
                <i class="bi bi-list mobile-nav-toggle"></i>
            </nav>

            <div class="social-links">
                <a href="/" title="Portfolio"><i class="bi bi-briefcase-fill"></i></a>
                <a href="https://x.com/vladbortnik_dev" target="_blank" rel="noopener noreferrer" title="Twitter/X"><i class="bi bi-twitter"></i></a>
                <a href="https://github.com/vladbortnik" target="_blank" rel="noopener noreferrer" class="github" title="GitHub"><i class="bi bi-github"></i></a>
                <a href="https://linkedin.com/in/vladbortnik" target="_blank" rel="noopener noreferrer" class="linkedin" title="LinkedIn"><i class="bi bi-linkedin"></i></a>
            </div>
        </div>
    </header>

    <!-- ======= BLOG POST SECTION ======= -->
    <section class="blog-post">
        <div class="container">
            <a href="/blog/" class="back-to-blog">
                <i class="bi bi-arrow-left"></i> Back to Blog
            </a>

            <div class="blog-post-content">
                <!-- Post Header -->
                <div class="blog-post-header">
                    <h1>Nginx Configuration for Production: SSL/TLS Setup</h1>
                    <div class="post-meta">
                        <div>
                            <i class="bi bi-calendar3"></i>
                            <span>January 5, 2024</span>
                        </div>
                        <div>
                            <i class="bi bi-clock"></i>
                            <span>6 min read</span>
                        </div>
                        <div>
                            <i class="bi bi-person"></i>
                            <span>Vlad Bortnik</span>
                        </div>
                        <span class="post-category">Server Config</span>
                    </div>
                </div>

                <!-- Article Content -->
                <article class="article-content">
                    <p>
                        Proper Nginx configuration with SSL/TLS is crucial for securing your web applications in production. 
                        This guide covers everything from obtaining certificates to implementing security headers and performance optimizations.
                    </p>

                    <h2>Why HTTPS is Non-Negotiable</h2>
                    <p>
                        HTTPS is no longer optional for modern web applications. It provides:
                    </p>
                    <ul>
                        <li><strong>Encryption:</strong> Protects data in transit from eavesdropping</li>
                        <li><strong>Authentication:</strong> Verifies your website's identity</li>
                        <li><strong>Integrity:</strong> Ensures data hasn't been tampered with</li>
                        <li><strong>SEO Benefits:</strong> Google prioritizes HTTPS sites in search rankings</li>
                        <li><strong>Browser Trust:</strong> Modern browsers flag HTTP sites as "Not Secure"</li>
                    </ul>

                    <h2>Installing Certbot and Let's Encrypt</h2>
                    <p>
                        Let's Encrypt provides free SSL/TLS certificates with automated renewal. Here's how to set it up:
                    </p>

                    <pre><code class="language-bash"># Install Certbot (Ubuntu/Debian)
sudo apt update
sudo apt install certbot python3-certbot-nginx

# Obtain certificate
sudo certbot --nginx -d example.com -d www.example.com

# Test automatic renewal
sudo certbot renew --dry-run</code></pre>

                    <h2>Basic Nginx SSL Configuration</h2>
                    <p>
                        Here's a production-ready Nginx configuration with SSL/TLS:
                    </p>

                    <pre><code class="language-nginx"># /etc/nginx/sites-available/your-site
server {
    listen 80;
    server_name example.com www.example.com;
    
    # Redirect all HTTP to HTTPS
    return 301 https://$server_name$request_uri;
}

server {
    listen 443 ssl http2;
    server_name example.com www.example.com;
    
    # SSL Certificate paths (Let's Encrypt)
    ssl_certificate /etc/letsencrypt/live/example.com/fullchain.pem;
    ssl_certificate_key /etc/letsencrypt/live/example.com/privkey.pem;
    
    # SSL Configuration
    ssl_protocols TLSv1.2 TLSv1.3;
    ssl_prefer_server_ciphers on;
    ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES128-GCM-SHA256;
    ssl_session_cache shared:SSL:10m;
    ssl_session_timeout 10m;
    
    # OCSP Stapling
    ssl_stapling on;
    ssl_stapling_verify on;
    ssl_trusted_certificate /etc/letsencrypt/live/example.com/chain.pem;
    resolver 8.8.8.8 8.8.4.4 valid=300s;
    resolver_timeout 5s;
    
    # Root directory
    root /var/www/html;
    index index.html;
    
    # Logging
    access_log /var/log/nginx/example.com.access.log;
    error_log /var/log/nginx/example.com.error.log;
    
    location / {
        try_files $uri $uri/ =404;
    }
}</code></pre>

                    <h2>Security Headers</h2>
                    <p>
                        Implementing security headers is crucial for protecting against common web vulnerabilities:
                    </p>

                    <pre><code class="language-nginx"># Add these inside your server block

# Strict Transport Security (HSTS)
add_header Strict-Transport-Security "max-age=31536000; includeSubDomains; preload" always;

# Prevent clickjacking
add_header X-Frame-Options "SAMEORIGIN" always;

# XSS Protection
add_header X-Content-Type-Options "nosniff" always;
add_header X-XSS-Protection "1; mode=block" always;

# Content Security Policy
add_header Content-Security-Policy "default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline';" always;

# Referrer Policy
add_header Referrer-Policy "strict-origin-when-cross-origin" always;

# Permissions Policy
add_header Permissions-Policy "geolocation=(), microphone=(), camera=()" always;</code></pre>

                    <h3>Understanding HSTS</h3>
                    <p>
                        HTTP Strict Transport Security (HSTS) tells browsers to only connect via HTTPS. The <code>preload</code> 
                        directive allows your domain to be included in browsers' HSTS preload lists.
                    </p>

                    <blockquote>
                        <strong>Important:</strong> Only add the <code>preload</code> directive after testing HTTPS thoroughly. 
                        Once preloaded, it's difficult to remove from browser lists.
                    </blockquote>

                    <h2>Reverse Proxy Configuration</h2>
                    <p>
                        If you're using Nginx as a reverse proxy for a backend application (e.g., Flask, Node.js):
                    </p>

                    <pre><code class="language-nginx">upstream backend {
    server 127.0.0.1:5000;
    keepalive 32;
}

server {
    listen 443 ssl http2;
    server_name example.com;
    
    # SSL configuration here...
    
    location / {
        proxy_pass http://backend;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        
        # WebSocket support
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection "upgrade";
        
        # Timeouts
        proxy_connect_timeout 60s;
        proxy_send_timeout 60s;
        proxy_read_timeout 60s;
    }
}</code></pre>

                    <h2>Performance Optimizations</h2>

                    <h3>Gzip Compression</h3>
                    <pre><code class="language-nginx"># Enable Gzip compression
gzip on;
gzip_vary on;
gzip_proxied any;
gzip_comp_level 6;
gzip_types text/plain text/css text/xml text/javascript 
           application/json application/javascript application/xml+rss 
           application/rss+xml font/truetype font/opentype 
           application/vnd.ms-fontobject image/svg+xml;</code></pre>

                    <h3>Caching Static Assets</h3>
                    <pre><code class="language-nginx">location ~* \.(jpg|jpeg|png|gif|ico|css|js|svg|woff|woff2|ttf|eot)$ {
    expires 1y;
    add_header Cache-Control "public, immutable";
    access_log off;
}</code></pre>

                    <h3>Rate Limiting</h3>
                    <p>
                        Protect your server from DDoS and brute-force attacks:
                    </p>

                    <pre><code class="language-nginx"># In http block
limit_req_zone $binary_remote_addr zone=mylimit:10m rate=10r/s;

# In server/location block
location /api/ {
    limit_req zone=mylimit burst=20 nodelay;
    proxy_pass http://backend;
}</code></pre>

                    <h2>Testing Your Configuration</h2>

                    <h3>1. Test Nginx Configuration</h3>
                    <pre><code class="language-bash">sudo nginx -t</code></pre>

                    <h3>2. Reload Nginx</h3>
                    <pre><code class="language-bash">sudo systemctl reload nginx</code></pre>

                    <h3>3. Check SSL Configuration</h3>
                    <p>
                        Use SSL Labs to test your SSL configuration:
                        <a href="https://www.ssllabs.com/ssltest/" target="_blank">https://www.ssllabs.com/ssltest/</a>
                    </p>

                    <h3>4. Verify Security Headers</h3>
                    <p>
                        Use SecurityHeaders.com to check your security headers:
                        <a href="https://securityheaders.com/" target="_blank">https://securityheaders.com/</a>
                    </p>

                    <h2>Automatic Certificate Renewal</h2>
                    <p>
                        Let's Encrypt certificates expire after 90 days. Certbot automatically sets up a systemd timer for renewal:
                    </p>

                    <pre><code class="language-bash"># Check renewal timer status
sudo systemctl status certbot.timer

# Manual renewal test
sudo certbot renew --dry-run

# View renewal logs
sudo journalctl -u certbot.timer</code></pre>

                    <h2>Common Issues and Solutions</h2>

                    <h3>Mixed Content Warnings</h3>
                    <p>
                        Ensure all resources (images, scripts, styles) are loaded via HTTPS. Update your application to use 
                        relative URLs or HTTPS URLs for all assets.
                    </p>

                    <h3>Certificate Chain Issues</h3>
                    <p>
                        Always use <code>fullchain.pem</code> instead of <code>cert.pem</code> to include intermediate certificates:
                    </p>
                    <pre><code class="language-nginx">ssl_certificate /etc/letsencrypt/live/example.com/fullchain.pem;</code></pre>

                    <h3>Firewall Configuration</h3>
                    <p>
                        Ensure ports 80 and 443 are open:
                    </p>
                    <pre><code class="language-bash">sudo ufw allow 'Nginx Full'
sudo ufw status</code></pre>

                    <h2>Best Practices Checklist</h2>
                    <ul>
                        <li>✅ Use TLS 1.2 and 1.3 only (disable older versions)</li>
                        <li>✅ Enable HTTP/2 for better performance</li>
                        <li>✅ Implement HSTS with appropriate max-age</li>
                        <li>✅ Configure proper security headers</li>
                        <li>✅ Enable OCSP stapling for faster certificate validation</li>
                        <li>✅ Set up automatic certificate renewal</li>
                        <li>✅ Enable Gzip compression</li>
                        <li>✅ Implement rate limiting</li>
                        <li>✅ Configure proper logging</li>
                        <li>✅ Test SSL configuration regularly</li>
                    </ul>

                    <h2>Conclusion</h2>
                    <p>
                        A properly configured Nginx server with SSL/TLS is the foundation of a secure web application. 
                        This setup provides:
                    </p>
                    <ul>
                        <li>Strong encryption and security</li>
                        <li>Optimized performance with HTTP/2 and caching</li>
                        <li>Protection against common vulnerabilities</li>
                        <li>Free, automatically renewing certificates</li>
                    </ul>
                    <p>
                        Remember to regularly update your Nginx installation, monitor your logs, and test your configuration 
                        with tools like SSL Labs to maintain the highest security standards.
                    </p>
                </article>

                <!-- Social Share -->
                <div class="social-share">
                    <h4>Share this article</h4>
                    <div class="share-icons">
                        <a href="https://twitter.com/intent/tweet?url=https://vladbortnik.dev/blog/posts/nginx-ssl-configuration.html&text=Nginx%20Configuration%20for%20Production%3A%20SSL%2FTLS%20Setup" target="_blank" rel="noopener" class="share-icon" title="Share on Twitter">
                            <i class="bi bi-twitter-x"></i>
                        </a>
                        <a href="https://www.linkedin.com/sharing/share-offsite/?url=https://vladbortnik.dev/blog/posts/nginx-ssl-configuration.html" target="_blank" rel="noopener" class="share-icon" title="Share on LinkedIn">
                            <i class="bi bi-linkedin"></i>
                        </a>
                        <a href="#" onclick="navigator.clipboard.writeText(window.location.href); this.innerHTML='<i class=\'bi bi-check-lg\'></i>'; setTimeout(()=>this.innerHTML='<i class=\'bi bi-link-45deg\'></i>', 2000); return false;" class="share-icon" title="Copy link">
                            <i class="bi bi-link-45deg"></i>
                        </a>
                    </div>
                </div>

                <!-- Comments Section -->
                <div class="comments-section">
                    <h3>Comments</h3>
                    <div class="commentbox"></div>
                </div>
            </div>
        </div>
    </section>

    <!-- ======= FOOTER ======= -->
    <footer id="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-icons">
                    <a href="/" title="Portfolio"><i class="bi bi-globe2"></i></a>
                    <a href="https://x.com/vladbortnik_dev" target="_blank" rel="me noopener" class="twitter" title="Twitter/X"><i class="bi bi-twitter-x"></i></a>
                    <a href="https://github.com/vladbortnik" target="_blank" rel="me noopener" class="github" title="GitHub"><i class="bi bi-github"></i></a>
                    <a href="https://linkedin.com/in/vladbortnik" target="_blank" rel="me noopener" class="linkedin" title="LinkedIn"><i class="bi bi-linkedin"></i></a>
                    <a href="/contact.html" title="Contact"><i class="bi bi-envelope"></i></a>
                    <a href="../feed.xml" title="RSS"><i class="bi bi-rss-fill"></i> RSS</a>
                </div>
                <div class="footer-copyright">
                    &copy; <span id="current-year"></span> Vlad Bortnik
                </div>
            </div>
        </div>
    </footer>
    <script>document.getElementById('current-year').textContent = new Date().getFullYear();</script>

    <!-- Vendor JS Files -->
    <script src="../../assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
    
    <!-- Blog JS (with progress bar) -->
    <script src="../assets/js/blog.js?v=2"></script>

    <!-- Main JS File -->
    <script src="../../assets/js/main.js"></script>
    
    <!-- Prism.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-nginx.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-bash.min.js"></script>

    <!-- CommentBox.io -->
    <script src="https://unpkg.com/commentbox.io/dist/commentBox.min.js"></script>
    <script>
        commentBox('5698637896089600-proj', {
            backgroundColor: '#040404',
            textColor: '#fff',
            subtextColor: 'rgba(255, 255, 255, 0.6)'
        });
    </script>

</body>
</html>
